---
title: GameAP Daemon
layout: default
lang: ru
category: GameAP Daemon
order: 50
---

* This will become a table of contents (this text will be scraped).
{:toc}

GameAP Daemon — фоновое приложение, которое обменивается с панелью данными, работает с игровыми серверами
(устанавливает, удаляет, запускает, останавливает и т.д).

Это основное приложение, которое будет контролировать статус игровых серверов, перезапускать их в случае надобности или
по требованию.

## Установка

### Автоматически через панель

В панели управления перейдите на страницу **Администрирование** -> **Выделенные серверы** -> **Создать**.
На странице появится окно с предложением автоматической установки. Скопируйте код и выполните на
выделенном сервере.

## Конфигурация

Конфигурация GameAP Daemon находится в файле:

| OS         | Path
|------------|------------
| Linux      | /etc/gameap-daemon/gameap-daemon.cfg
| Windows    | C:\gameap\daemon\daemon.cfg

### Базовые параметры

| Параметр                  | Обязателен            | Тип       | Информация
|---------------------------|-----------------------|-----------|------------
| ds_id                     | да                    | integer   | ID выделенного сервера
| listen_port               | нет (по умолчанию 31717) |     integer   | Порт, который будет слушать
| api_host                  | да                    | string    | API хост
| api_key                   | да                    | string    | API ключ


### SSL/TLS

| Параметр                  | Обязателен            | Тип       | Информация
|---------------------------|-----------------------|-----------|------------
| ca_certificate_file   | да                    | string    | CA сертификат
| certificate_chain_file    | да                    | string    | Сертификат сервера
| private_key_file          | да                    | string    | Приватный ключ сервера
| private_key_password      | нет                   | string    | Пароль от ключа сервера
| dh_file                   | да                    | string    | Сертификат Ди́ффи — Хе́ллмана

[Создание сертификатов](https://github.com/gameap/GDaemon2#creating-certificates)

### Аутентификация по логину и паролю

| Параметр                  | Обязателен            | Тип       | Информация
|---------------------------|-----------------------|-----------|------------
| password_authentication   | нет                   | boolean   | Включить аутентификацию по логину и паролю
| daemon_login              | нет                   | string    | Логин. В Linux, если пуст или не задан, то будет использоваться PAM.
| daemon_password           | нет                   | string    | Password. В Linux, если пуст или не задан, то будет использоваться PAM.

### Статистика

| Параметр                  | Обязателен            | Тип       | Информация
|---------------------------|-----------------------|-----------|------------
| if_list                   | нет                   | string    | Список интерфейсов
| drives_list               | нет                   | string    | Список дисков
| stats_update_period       | нет                   | integer   | Период обновления статистики
| stats_db_update_period    | нет                   | integer   | Период обновления базы данных

[Пример конфигурации](https://github.com/gameap/GDaemon2#example-daemoncfg)

### Использование не анонимного steam аккаунта

Многие серверы нельзя скачать через steamcmd без входа в аккаунт с приобретенной копией игры, в этом случае требуется предоставить демону логин и пароль от такого steam аккаунта для дальнейшей авторизации в steamcmd.

Нужно вручную преобразовать файл конфига демона из формата .cfg в формат .yaml (с учетом требований нового формата)

| OS         | Было              | Стало
|------------|-------------------|------------
| Linux      | gameap-daemon.cfg | gameap-daemon.yaml
| Windows    | daemon.cfg        | daemon.yaml

[Пример yaml файла](https://github.com/gameap/daemon/blob/master/config/gameap-daemon.yaml)

После этого можно добавить настройку steam аккаунта:
```
steam_config:
    login: "your login"
    password: "Pa$$worD"
```
